<!DOCTYPE html><html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>๐ ุงุณุชูุงุฑุฉ ุงูุชุณุฌูู</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; direction: rtl; background: #f9f9f9; padding: 20px; }
    .container { max-width: 700px; margin: auto; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h2 { text-align: center; color: #00796b; }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, select, button { width: 100%; padding: 10px; margin-top: 5px; border-radius: 8px; border: 1px solid #ccc; font-size: 15px; }
    .age-group { display: flex; gap: 10px; }
    .age-group input { flex: 1; }
    .section { display: none; }
    .section.active { display: block; }
    .notes { background: #f1f1f1; padding: 15px; border-radius: 8px; margin-top: 15px; }
  </style>
</head>
<body>
<div class="container">  <div class="section active" id="formSection">
    <h2>๐ ุงุณุชูุงุฑุฉ ุงูุชุณุฌูู</h2>
    <label>ุงูุงุณู ุงูุฃูู:</label><input type="text" name="firstName" required />
    <label>ุงููููุฉ:</label><input type="text" name="lastName" required />
    <label>ุงูุฌูุณ:</label>
    <select name="gender" required>
      <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option><option value="ุฐูุฑ">ุฐูุฑ</option><option value="ุฃูุซู">ุฃูุซู</option>
    </select>
    <label>ุฏููุฉ ุงูุฅูุงูุฉ:</label><input type="text" name="country" required />
    <label>ุชุงุฑูุฎ ุงููููุงุฏ:</label>
    <div class="age-group">
      <input type="number" name="ageDay" placeholder="ุงูููู" min="1" max="31" required />
      <input type="number" name="ageMonth" placeholder="ุงูุดูุฑ" min="1" max="12" required />
      <input type="number" name="ageYear" placeholder="ุงูุณูุฉ" min="1950" max="2025" required />
    </div>
    <label>ุงููุฆุฉ ุงูุฏุฑุงุณูุฉ:</label>
    <select name="grade" required>
      <option value="">ุงุฎุชุฑ ุงููุฆุฉ ุงูุฏุฑุงุณูุฉ</option>
      <option>ุงูุตู ุงูุฃูู</option><option>ุงูุตู ุงูุซุงูู</option><option>ุงูุตู ุงูุซุงูุซ</option>
      <option>ุงูุตู ุงูุฑุงุจุน</option><option>ุงูุตู ุงูุฎุงูุณ</option><option>ุงูุตู ุงูุณุงุฏุณ</option>
      <option>ุงูุตู ุงูุณุงุจุน</option><option>ุงูุตู ุงูุซุงูู</option><option>ุงูุตู ุงูุชุงุณุน</option>
      <option>ุงูุตู ุงูุนุงุดุฑ</option><option>ุงูุตู ุงูุญุงุฏู ุนุดุฑ</option><option>ุงูุจูุงููุฑูุง</option><option>ุงูุฌุงูุนุฉ</option>
    </select>
    <label>ุฑูู ุงูุฌูุงู (ูุน ุฑูุฒ ุงูุฏููุฉ):</label><input type="tel" name="phone" required />
    <button type="button" onclick="goToNotes()">ุงูุชุงูู</button>
  </div>  <div class="section" id="notesSection">
    <h2>๐ ุชูุจููุงุช ูุงูุฉ ุญูู ุงูุฏูุฑุฉ</h2>
    <div class="notes">
      <p><strong>ุฃููุงู: ุฑุณูู ุงูุฏูุฑุฉ</strong><br>
        ูุฐู ุงูุฑุณูู ููุณุช ููุงุจู ุงูุฏุฑูุณุ ูุงูุฏุฑูุณ ูุชููุฑุฉ ุนูู ูููุงุช ุงููุดุงูุฎ ุงูุฑุณููุฉ ูู ุงูููุชููุจ.<br>
        ูุฅููุง ููุงุจู: ุงูุชูุงุฑูู ุงูููููุฉุ ุงููุฐุงูุฑุงุชุ ุงูุงุฎุชุจุงุฑุงุชุ ุงูุดูุงุฏุงุชุ ุงูุฅุฏุงุฑุฉ.
        <br>โ ุชูุนุฏ ุตุฏูุฉ ูุฏุนู ุงููุดุฑูุน.
      </p>
      <p><strong>ุซุงูููุง: ุญูุงุฏูุฉ ุงููุดุงูุฎ</strong><br>
        ุงููุดุงูุฎ ูุง ุนูุงูุฉ ููู ุจุฃู ุฑุณูู ููุง ูุชูุงุถูู ุดูุฆูุง.
      </p>
      <p><strong>ุซุงูุซูุง: ุงูุดูุงุฏุฉ ูุงูุฌุงุฆุฒุฉ ุงููุงููุฉ</strong><br>
        ๐ ุงูุดูุงุฏุฉ ุจุฑุณูู 5$. ููููู ุงูุฏุฑุงุณุฉ ูุฌุงููุง ุจุฏูู ุดูุงุฏุฉ.<br>
        ๐ ุชููุงู ูุฑุนุฉ ุจุฌูุงุฆุฒ 200$ ูู 6 ุฃุดูุฑ ูููุงุฆุฒูู.
      </p>
      <p><strong>ุฑุงุจุนูุง: ุฏุนู ุงุณุชูุฑุงุฑ ุงููุดุฑูุน</strong><br>
        ุงููุดุฑูุน ูุญุชุงุฌ ุฏุนู ูุชุบุทูุฉ ุงูุฅุดุฑุงู ูุงูุฏุนู ุงูููู.<br>
        ูุคุณุณุฉ ุฒุงุฏ ุงูุฑุญูู ูุง ุชููู ูุตุฏุฑ ุฏุฎู.
      </p>
    </div>
    <p><strong>๐ฐ ูู ุชุฑุบุจ ูู ุฏูุนูุ</strong></p>
    <label><input type="radio" name="paymentChoice" value="10+"> ุฃุฑูุฏ ุฏูุน ุฑุณูู ุงูุฏูุฑุฉ (10 ุฏููุงุฑ) ูุงูุชุตุฏู ุจูุจูุบ ุฅุถุงูู.</label>
    <label><input type="radio" name="paymentChoice" value="10"> ุฃุฑูุฏ ุฏูุน (10 ุฏููุงุฑ) ููุท ููุญุตูู ุนูู ุงูุดูุงุฏุฉ.</label>
    <label><input type="radio" name="paymentChoice" value="5"> ุฃุฑูุฏ ุฏูุน (5 ุฏููุงุฑ) ููุท ููุญุตูู ุนูู ุงูุดูุงุฏุฉ.</label>
    <label><input type="radio" name="paymentChoice" value="0"> ุฃุฑูุฏ ุงูุฏุฑุงุณุฉ ูุฌุงููุงุ ููุง ุฃุฑูุฏ ุงูุดูุงุฏุฉ.</label>
    <button onclick="handlePaymentChoice()">ููุฏ ูููุชุ ุดูุฑูุง</button>
  </div>  <div class="section" id="verifySection">
    <h2>๐ ุงูุชุญูู ูู ุฑูู ุงูุฌูุงู</h2>
    <button onclick="sendCode()">๐ฉ ุฅุฑุณุงู ููุฏ ุงูุชุญูู</button>
    <div id="codeArea" style="display:none">
      <label>ุฃุฏุฎู ููุฏ ุงูุชุญูู:</label>
      <input type="text" id="enteredCode" maxlength="6">
      <button onclick="verifyCode()">โ ุชุญูู</button>
    </div>
  </div>
</div><script>
  let userData = {}, correctCode = '';

  function goToNotes() {
    const inputs = document.querySelectorAll('#formSection input, #formSection select');
    for (const i of inputs) if (!i.checkValidity()) return i.reportValidity();
    inputs.forEach(input => userData[input.name] = input.value);
    showSection('notesSection');
  }

  function showSection(id) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  function generateCode(phone) {
    const last6 = phone.slice(-6);
    return [...last6].map(d => d == '0' ? '0' : (parseInt(d)-1)).join('');
  }

  function sendWhatsApp(phone, message) {
    const inst = "instance129389", tok = "9grguvsi1pp4buyr";
    return fetch(`https://api.ultramsg.com/${inst}/messages/chat?token=${tok}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ to: phone, body: message })
    });
  }

  function handlePaymentChoice() {
    const sel = document.querySelector('input[name="paymentChoice"]:checked');
    if (!sel) return alert("ูุฑุฌู ุงุฎุชูุงุฑ ุฃุญุฏ ุงูุฎูุงุฑุงุช");
    userData.payment = sel.value;
    if (sel.value === '0') {
      const msg = `ูุฑุญุจูุง ${userData.firstName} ${userData.lastName}\nุชู ุชุณุฌููู ูุฌุงููุง ุถูู ุฏูุฑุฉ ${userData.grade}.\nุจุงูุชูููู.`;
      sendWhatsApp(userData.phone, msg).then(() => alert("โ ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ"));
    } else {
      correctCode = generateCode(userData.phone);
      showSection('verifySection');
    }
  }

  function sendCode() {
    correctCode = generateCode(userData.phone);
    sendWhatsApp(userData.phone, `ุฑูุฒ ุงูุชุญูู ุงูุฎุงุต ุจู ูู: ${correctCode}`).then(() => {
      alert("๐ฉ ุชู ุฅุฑุณุงู ุงูููุฏ ุนุจุฑ ูุงุชุณุงุจ");
      document.getElementById('codeArea').style.display = 'block';
    });
  }

  function verifyCode() {
    const entered = document.getElementById('enteredCode').value.trim();
    if (entered === correctCode) {
      const msg = `โ ุชู ุงูุชุญูู ุจูุฌุงุญ\n${userData.firstName} ${userData.lastName} - ${userData.grade}`;
      sendWhatsApp(userData.phone, msg).then(() => alert("๐ ุชู ุงูุชุณุฌูู ุจูุฌุงุญ!"));
    } else {
      alert("โ ุงูููุฏ ุบูุฑ ุตุญูุญ");
    }
  }
</script></body>
</html>
