<!DOCTYPE html><html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>ูููุฐุฌ ุชุณุฌูู ุทูุงุจ</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      direction: rtl;
      background: #f9f9f9;
      padding: 30px;
    }
    .card {
      background: white;
      padding: 25px;
      border-radius: 20px;
      max-width: 700px;
      margin: auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #00695c;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 16px;
    }
    button {
      background-color: #00695c;
      color: white;
      cursor: pointer;
      transition: 0.3s;
      margin-top: 20px;
    }
    button:hover {
      background-color: #004d40;
    }
    .step {
      display: none;
    }
    .step.active {
      display: block;
    }
    .note {
      background: #eefaf7;
      padding: 10px 15px;
      border-radius: 10px;
      margin-bottom: 10px;
      border: 1px solid #b2dfdb;
    }
  </style>
</head>
<body><div class="card">
  <div id="step1" class="step active">
    <h2>๐ ุชูุจููุงุช ูุงูุฉ ุญูู ุงูุฏูุฑุฉ</h2><div class="note">
  <strong>ุฃููุงู: ุฑุณูู ุงูุฏูุฑุฉ</strong><br>
  ุงูุฑุณูู ูู ููุงุจู ุงูุชูุงุฑููุ ุงููุฐุงูุฑุงุชุ ุงูุงุฎุชุจุงุฑุงุชุ ุงูุดูุงุฏุงุชุ ูุงูุฅุฏุงุฑุฉ.
</div>
<div class="note">
  <strong>ุซุงูููุง: ุญูุงุฏูุฉ ุงููุดุงูุฎ</strong><br>
  ูุง ุนูุงูุฉ ูููุดุงูุฎ ุจุงูุฑุณููุ ููู ูุชุทูุนูู.
</div>
<div class="note">
  <strong>ุซุงูุซูุง: ุงูุดูุงุฏุฉ ูุงูุฌุงุฆุฒุฉ</strong><br>
  ุดูุงุฏุฉ ุจู 5 ุฏููุงุฑุงุชุ ูุงูุฌุงุฆุฒุฉ ูุฑุนุฉ ูููุงุฆุฒูู ุจุงูุนูุงูุฉ ุงูุชุงูุฉ.
</div>
<div class="note">
  <strong>ุฑุงุจุนูุง: ุฏุนู ุงููุดุฑูุน</strong><br>
  ููุทูุจ ุงูุฏุนู ูุชุบุทูุฉ ูููุงุช ุงูุฏูุฑุฉ ูุงุณุชูุฑุงุฑูุง.
</div>

<label>๐ฐ ูู ุชุฑุบุจ ูู ุฏูุนูุ</label>
<select id="paymentOption" required>
  <option value="">ุงุฎุชุฑ ุฎูุงุฑู</option>
  <option value="donation">ุฃุฑูุฏ ุฏูุน ุฑุณูู ุงูุฏูุฑุฉ (10 ุฏููุงุฑ) ูุงูุชุตุฏู ุจูุจูุบ ุฅุถุงูู ุฏุนููุง ููุฏูุฑุฉ</option>
  <option value="certificate10">ุฃุฑูุฏ ุฏูุน (10 ุฏููุงุฑ) ููุท ููุญุตูู ุนูู ุงูุดูุงุฏุฉ</option>
  <option value="certificate5">ุฃุฑูุฏ ุฏูุน (5 ุฏููุงุฑ) ููุท ููุญุตูู ุนูู ุงูุดูุงุฏุฉ</option>
  <option value="free">ุฃุฑูุฏ ุงูุฏุฑุงุณุฉ ูุฌุงููุงุ ููุง ุฃุฑูุฏ ุงูุดูุงุฏุฉ</option>
</select>

<button onclick="handleChoice()">ุงูุชุงูู</button>

  </div>  <div id="step2" class="step">
    <h2>๐ ุงูุชุญูู ูู ุฑูู ุงูุฌูุงู</h2>
    <label>ุฑูู ุงูุฌูุงู (ูุน ุฑูุฒ ุงูุฏููุฉ):</label>
    <input type="tel" id="verifyPhone" required />
    <button onclick="sendCode()">๐ฉ ุฅุฑุณุงู ููุฏ ุงูุชุญูู</button><div id="codeInput" style="display:none">
  <label>ุฃุฏุฎู ููุฏ ุงูุชุญูู:</label>
  <input type="text" id="enteredCode" maxlength="6">
  <button onclick="verifyCode()">โ ุชุญูู</button>
</div>

  </div>  <div id="step3" class="step">
    <h2>๐ ูููุฐุฌ ุชุณุฌูู ุงูุทูุงุจ</h2>
    <form id="regForm">
      <label>ุงูุงุณู ุงูุฃูู:</label>
      <input name="firstName" required /><label>ุงููููุฉ:</label>
  <input name="lastName" required />

  <label>ููุงู ุงูุณูู:</label>
  <input name="location" required />

  <label>ุงูุฌูุณ:</label>
  <select name="gender" required>
    <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
    <option>ุฐูุฑ</option>
    <option>ุฃูุซู</option>
  </select>

  <label>ุฏููุฉ ุงูุฅูุงูุฉ:</label>
  <input name="country" required />

  <label>ุชุงุฑูุฎ ุงููููุงุฏ (ูุฏูู):</label>
  <div style="display:flex; gap:10px">
    <input name="birthDay" type="number" min="1" max="31" placeholder="ุงูููู" required>
    <input name="birthMonth" type="number" min="1" max="12" placeholder="ุงูุดูุฑ" required>
    <input name="birthYear" type="number" min="1900" max="2025" placeholder="ุงูุณูุฉ" required>
  </div>

  <label>ุงููุฆุฉ ุงูุฏุฑุงุณูุฉ:</label>
  <select name="grade" required>
    <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
    <option>ุงูุตู ุงูุฃูู</option>
    <option>ุงูุตู ุงูุซุงูู</option>
    <option>ุงูุตู ุงูุซุงูุซ</option>
    <option>ุงูุตู ุงูุฑุงุจุน</option>
    <option>ุงูุตู ุงูุฎุงูุณ</option>
    <option>ุงูุตู ุงูุณุงุฏุณ</option>
    <option>ุงูุตู ุงูุณุงุจุน</option>
    <option>ุงูุตู ุงูุซุงูู</option>
    <option>ุงูุตู ุงูุชุงุณุน</option>
    <option>ุงูุตู ุงูุนุงุดุฑ</option>
    <option>ุงูุตู ุงูุญุงุฏู ุนุดุฑ</option>
    <option>ุงูุจูุงููุฑูุง</option>
    <option>ุงูุฌุงูุนุฉ</option>
  </select>

  <button type="submit">๐จ ุฅุฑุณุงู ูุงุชุณุงุจ</button>
</form>

  </div>
</div><script>
  let correctCode = "";
  let userPhone = "";

  function handleChoice() {
    const choice = document.getElementById("paymentOption").value;
    if (choice === "free") {
      document.getElementById("step1").classList.remove("active");
      document.getElementById("step3").classList.add("active");
    } else {
      document.getElementById("step1").classList.remove("active");
      document.getElementById("step2").classList.add("active");
    }
  }

  function generateCode(phone) {
    const last6 = phone.slice(-6);
    let code = "";
    for (let digit of last6) {
      let n = parseInt(digit);
      code += (n === 0 ? 0 : n - 1);
    }
    return code;
  }

  async function sendCode() {
    const phone = document.getElementById("verifyPhone").value.trim();
    if (!phone.startsWith('+') || phone.length < 10) return alert("๐ฑ ุฑูู ุบูุฑ ุตุญูุญ");

    correctCode = generateCode(phone);
    userPhone = phone;

    const message = `๐ ุฑูุฒ ุงูุชุญูู ุงูุฎุงุต ุจู: ${correctCode}`;
    const instanceId = "instance129389";
    const token = "9grguvsi1pp4buyr";

    await fetch(`https://api.ultramsg.com/${instanceId}/messages/chat?token=${token}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ to: phone, body: message })
    });

    document.getElementById("codeInput").style.display = "block";
    alert("โ ุชู ุฅุฑุณุงู ููุฏ ุงูุชุญูู ุนุจุฑ ูุงุชุณุงุจ");
  }

  function verifyCode() {
    const entered = document.getElementById("enteredCode").value.trim();
    if (entered === correctCode) {
      document.getElementById("step2").classList.remove("active");
      document.getElementById("step3").classList.add("active");
    } else {
      alert("โ ุงูููุฏ ุบูุฑ ุตุญูุญ");
    }
  }

  document.getElementById("regForm").addEventListener("submit", async function(e) {
    e.preventDefault();
    const f = e.target;
    const msg = `โ ุชู ุชุณุฌููู:
๐ค ${f.firstName.value} ${f.lastName.value}
๐ ${f.location.value} - ${f.country.value}
๐ ${f.grade.value}
๐ ุงููููุงุฏ: ${f.birthDay.value}/${f.birthMonth.value}/${f.birthYear.value}`;

    await fetch(`https://api.ultramsg.com/instance129389/messages/chat?token=9grguvsi1pp4buyr`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ to: userPhone || document.getElementById("verifyPhone").value.trim(), body: msg })
    });

    alert("๐ ุชู ุฅุฑุณุงู ุฑุณุงูุฉ ูุงุชุณุงุจ ุจุงูุชุณุฌูู!");
    f.reset();
  });
</script></body>
</html>
